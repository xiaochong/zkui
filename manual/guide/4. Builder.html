<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>4. Builder</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    <h1><a name="4. Builder">4. Builder</a></h1>Builders are internal DSLs that provide ease in working with certain types of problems.It is very useful for work with nested,hierarchical structures, such as tree structures, XML representations,or HTML representations.<p class="paragraph"/>Let’s take a look at an example of one way to create zk component in Groovy—using a builder:<p class="paragraph"/><h3>appendChild</h3>
<code>appendChild</code>  is dynamic method that  <em class="italic">ZKUI</em>  injection to zk <a href="http://www.zkoss.org/javadoc/latest/zk/org/zkoss/zk/ui/Component.html" target="blank">Component</a> to begin builder,which accepts a Closure parameter.
<div class="code"><pre>def window = <span class="java&#45;keyword">new</span> Window(title: <span class="java&#45;quote">"listbox demo"</span>, border: <span class="java&#45;quote">"normal"</span>)
window.appendChild &#123;
    listbox &#123;
        listhead(sizable: <span class="java&#45;keyword">true</span>) &#123;
            listheader(label: <span class="java&#45;quote">"name"</span>, sort: <span class="java&#45;quote">"auto"</span>)
            listheader(label: <span class="java&#45;quote">"gender"</span>, sort: <span class="java&#45;quote">"auto"</span>)
        &#125;
        listitem &#123;
            listcell(label: <span class="java&#45;quote">"Mary"</span>)
            listcell(label: <span class="java&#45;quote">"FEMALE"</span>)
        &#125;
        listitem &#123;
            listcell(label: <span class="java&#45;quote">"John"</span>)
            listcell(label: <span class="java&#45;quote">"MALE"</span>)
        &#125;
        listitem &#123;
            listcell(label: <span class="java&#45;quote">"Jane"</span>)
            listcell(label: <span class="java&#45;quote">"FEMALE"</span>)
        &#125;
        listitem &#123;
            listcell(label: <span class="java&#45;quote">"Henry"</span>)
            listcell(label: <span class="java&#45;quote">"MALE"</span>)
        &#125;
        listfoot &#123;
            listfooter &#123;
                label(value: <span class="java&#45;quote">"This is footer1"</span>)
            &#125;
            listfooter &#123;
                label(value: <span class="java&#45;quote">"This is footer2"</span>)
            &#125;
        &#125;
    &#125;
&#125;</pre></div><p class="paragraph"/><h3>leftShift ( &#60;&#60; )</h3><p class="paragraph"/> <em class="italic">ZKUI</em>  also provides a convenient method <code>leftShift</code>,so you can modify the above code like:
<div class="code"><pre>def window = <span class="java&#45;keyword">new</span> Window(title: <span class="java&#45;quote">"listbox demo"</span>, border: <span class="java&#45;quote">"normal"</span>)
window &#60;&#60; &#123;
    listbox &#123;
       &#8230;
    &#125;
&#125;</pre></div><p class="paragraph"/><h3>Event listening</h3><p class="paragraph"/>If the parameter on onEvent it's a Closure, then it's a server side event
<div class="code"><pre>window &#60;&#60; &#123;
    button(label: 'button', onClick: &#123;
        Messagebox.show(<span class="java&#45;quote">"hello word! from Server"</span>)
    &#125;)
&#125;</pre></div><p class="paragraph"/><h4>Client-side event listening</h4><p class="paragraph"/>If the parameter on onEvent it's a String, that is a client side event
<div class="code"><pre>window &#60;&#60; &#123;
    button(label: 'buutton', onClick: <span class="java&#45;quote">"alert('Say hello word! from JS')"</span>)
&#125;</pre></div><p class="paragraph"/>
    </body>
</html>
